
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>知识图谱demo展示</title>
    <script type="text/javascript" src="/kgdemo/static/js/jquery-1.10.2.min.js"></script>
	<link rel="stylesheet" href="/kgdemo/static/css/bootstrap.min.css">
	<link rel="stylesheet" href="/kgdemo/static/css/site.min.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">
</head>
<body class="home-template">

<header class="site-header" style="background-image: url(http://video.yoyling.com/&quot;data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNjAiIGhlaWdodD0iMTYwIj48cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJyZ2IoNjMsMTE1LDE0NCkiPjwvcmVjdD48cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMjYuNjY2NjY2NjY2NjY2NjY4IiBoZWlnaHQ9IjI2LjY2NjY2NjY2NjY2NjY2OCIgZmlsbD0iIzIyMiIgZmlsbC1vcGFjaXR5PSIwLjA2MzMzMzMzMzMzMzMzMzM0IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIj48L3JlY3Q+PHJlY3QgeD0iMjYuNjY2NjY2NjY2NjY2NjY4IiB5PSIwIiB3aWR0aD0iMjYuNjY2NjY2NjY2NjY2NjY4IiBoZWlnaHQ9IjI2LjY2NjY2NjY2NjY2NjY2OCIgZmlsbD0iIzIyMiIgZmlsbC1vcGFjaXR5PSIwLjAyODY2NjY2NjY2NjY2NjY2NyIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiI+PC9yZWN0PjxyZWN0IHg9IjUzLjMzMzMzMzMzMzMzMzMzNiIgeT0iMCIgd2lkdGg9IjI2LjY2NjY2NjY2NjY2NjY2OCIgaGVpZ2h0PSIyNi42NjY2NjY2NjY2NjY2NjgiIGZpbGw9IiNkZGQiIGZpbGwtb3BhY2l0eT0iMC4wMzczMzMzMzMzMzMzMzMzMyIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiI+PC9yZWN0PjxyZWN0IHg9IjgwIiB5PSIwIiB3aWR0aD0iMjYuNjY2NjY2NjY2NjY2NjY4IiBoZWlnaHQ9IjI2LjY2NjY2NjY2NjY2NjY2OCIgZmlsbD0iIzIyMiIgZmlsbC1vcGFjaXR5PSIwLjA0NiIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiI+PC9yZWN0PjxyZWN0IHg9IjEwNi42NjY2NjY2NjY2NjY2NyIgeT0iMCIgd2lkdGg9IjI2LjY2NjY2NjY2NjY2NjY2OCIgaGVpZ2h0PSIyNi42NjY2NjY2NjY2NjY2NjgiIGZpbGw9IiNkZGQiIGZpbGwtb3BhY2l0eT0iMC4xMjQwMDAwMDAwMDAwMDAwMSIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiI+PC9yZWN0PjxyZWN0IHg9IjEzMy4zMzMzMzMzMzMzMzMzNCIgeT0iMCIgd2lkdGg9IjI2LjY2NjY2NjY2NjY2NjY2OCIgaGVpZ2h0PSIyNi42NjY2NjY2NjY2NjY2NjgiIGZpbGw9IiMyMjIiIGZpbGwtb3BhY2l0eT0iMC4wMjg2NjY2NjY2NjY2NjY2NjciIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiPjwvcmVjdD48cmVjdCB4PSIwIiB5PSIyNi42NjY2NjY2NjY2NjY2NjgiIHdpZHRoPSIyNi42NjY2NjY2NjY2NjY2NjgiIGhlaWdodD0iMjYuNjY2NjY2NjY2NjY2NjY4IiBmaWxsPSIjMjIyIiBmaWxsLW9wYWNpdHk9IjAuMDk4IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIj48L3JlY3Q+PHJlY3QgeD0iMjYuNjY2NjY2NjY2NjY2NjY4IiB5PSIyNi42NjY2NjY2NjY2NjY2NjgiIHdpZHRoPSIyNi42NjY2NjY2NjY2NjY2NjgiIGhlaWdodD0iMjYuNjY2NjY2NjY2NjY2NjY4IiBmaWxsPSIjMjIyIiBmaWxsLW9wYWNpdHk9IjAuMDgwNjY2NjY2NjY2NjY2NjYiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiPjwvcmVjdD48cmVjdCB4PSI1My4zMzMzMzMzMzMzMzMzMzYiIHk9IjI2LjY2NjY2NjY2NjY2NjY2OCIgd2lkdGg9IjI2LjY2NjY2NjY2NjY2NjY2OCIgaGVpZ2h0PSIyNi42NjY2NjY2NjY2NjY2NjgiIGZpbGw9IiMyMjIiIGZpbGwtb3BhY2l0eT0iMC4xNSIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiI+PC9yZWN0PjxyZWN0IHg9IjgwIiB5PSIyNi42NjY2NjY2NjY2NjY2NjgiIHdpZHRoPSIyNi42NjY2NjY2NjY2NjY2NjgiIGhlaWdodD0iMjYuNjY2NjY2NjY2NjY2NjY4IiBmaWxsPSIjMjIyIiBmaWxsLW9wYWNpdHk9IjAuMDQ2IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIj48L3JlY3Q+PHJlY3QgeD0iMTA2LjY2NjY2NjY2NjY2NjY3IiB5PSIyNi42NjY2NjY2NjY2NjY2NjgiIHdpZHRoPSIyNi42NjY2NjY2NjY2NjY2NjgiIGhlaWdodD0iMjYuNjY2NjY2NjY2NjY2NjY4IiBmaWxsPSIjZGRkIiBmaWxsLW9wYWNpdHk9IjAuMDcyMDAwMDAwMDAwMDAwMDEiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiPjwvcmVjdD48cmVjdCB4PSIxMzMuMzMzMzMzMzMzMzMzMzQiIHk9IjI2LjY2NjY2NjY2NjY2NjY2OCIgd2lkdGg9IjI2LjY2NjY2NjY2NjY2NjY2OCIgaGVpZ2h0PSIyNi42NjY2NjY2NjY2NjY2NjgiIGZpbGw9IiNkZGQiIGZpbGwtb3BhY2l0eT0iMC4wNzIwMDAwMDAwMDAwMDAwMSIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiI+PC9yZWN0PjxyZWN0IHg9IjAiIHk9IjUzLjMzMzMzMzMzMzMzMzMzNiIgd2lkdGg9IjI2LjY2NjY2NjY2NjY2NjY2OCIgaGVpZ2h0PSIyNi42NjY2NjY2NjY2NjY2NjgiIGZpbGw9IiNkZGQiIGZpbGwtb3BhY2l0eT0iMC4xMDY2NjY2NjY2NjY2NjY2NyIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiI+PC9yZWN0PjxyZWN0IHg9IjI2LjY2NjY2NjY2NjY2NjY2OCIgeT0iNTMuMzMzMzMzMzMzMzMzMzM2IiB3aWR0aD0iMjYuNjY2NjY2NjY2NjY2NjY4IiBoZWlnaHQ9IjI2LjY2NjY2NjY2NjY2NjY2OCIgZmlsbD0iI2RkZCIgZmlsbC1vcGFjaXR5PSIwLjAyIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIj48L3JlY3Q+PHJlY3QgeD0iNTMuMzMzMzMzMzMzMzMzMzM2IiB5PSI1My4zMzMzMzMzMzMzMzMzMzYiIHdpZHRoPSIyNi42NjY2NjY2NjY2NjY2NjgiIGhlaWdodD0iMjYuNjY2NjY2NjY2NjY2NjY4IiBmaWxsPSIjMjIyIiBmaWxsLW9wYWNpdHk9IjAuMDgwNjY2NjY2NjY2NjY2NjYiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiPjwvcmVjdD48cmVjdCB4PSI4MCIgeT0iNTMuMzMzMzMzMzMzMzMzMzM2IiB3aWR0aD0iMjYuNjY2NjY2NjY2NjY2NjY4IiBoZWlnaHQ9IjI2LjY2NjY2NjY2NjY2NjY2OCIgZmlsbD0iIzIyMiIgZmlsbC1vcGFjaXR5PSIwLjAyODY2NjY2NjY2NjY2NjY2NyIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiI+PC9yZWN0PjxyZWN0IHg9IjEwNi42NjY2NjY2NjY2NjY2NyIgeT0iNTMuMzMzMzMzMzMzMzMzMzM2IiB3aWR0aD0iMjYuNjY2NjY2NjY2NjY2NjY4IiBoZWlnaHQ9IjI2LjY2NjY2NjY2NjY2NjY2OCIgZmlsbD0iI2RkZCIgZmlsbC1vcGFjaXR5PSIwLjAzNzMzMzMzMzMzMzMzMzMzIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIj48L3JlY3Q+PHJlY3QgeD0iMTMzLjMzMzMzMzMzMzMzMzM0IiB5PSI1My4zMzMzMzMzMzMzMzMzMzYiIHdpZHRoPSIyNi42NjY2NjY2NjY2NjY2NjgiIGhlaWdodD0iMjYuNjY2NjY2NjY2NjY2NjY4IiBmaWxsPSIjMjIyIiBmaWxsLW9wYWNpdHk9IjAuMDQ2IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIj48L3JlY3Q+PHJlY3QgeD0iMCIgeT0iODAiIHdpZHRoPSIyNi42NjY2NjY2NjY2NjY2NjgiIGhlaWdodD0iMjYuNjY2NjY2NjY2NjY2NjY4IiBmaWxsPSIjMjIyIiBmaWxsLW9wYWNpdHk9IjAuMDI4NjY2NjY2NjY2NjY2NjY3IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIj48L3JlY3Q+PHJlY3QgeD0iMjYuNjY2NjY2NjY2NjY2NjY4IiB5PSI4MCIgd2lkdGg9IjI2LjY2NjY2NjY2NjY2NjY2OCIgaGVpZ2h0PSIyNi42NjY2NjY2NjY2NjY2NjgiIGZpbGw9IiMyMjIiIGZpbGwtb3BhY2l0eT0iMC4wODA2NjY2NjY2NjY2NjY2NiIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiI+PC9yZWN0PjxyZWN0IHg9IjUzLjMzMzMzMzMzMzMzMzMzNiIgeT0iODAiIHdpZHRoPSIyNi42NjY2NjY2NjY2NjY2NjgiIGhlaWdodD0iMjYuNjY2NjY2NjY2NjY2NjY4IiBmaWxsPSIjMjIyIiBmaWxsLW9wYWNpdHk9IjAuMDk4IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIj48L3JlY3Q+PHJlY3QgeD0iODAiIHk9IjgwIiB3aWR0aD0iMjYuNjY2NjY2NjY2NjY2NjY4IiBoZWlnaHQ9IjI2LjY2NjY2NjY2NjY2NjY2OCIgZmlsbD0iIzIyMiIgZmlsbC1vcGFjaXR5PSIwLjEzMjY2NjY2NjY2NjY2NjY1IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIj48L3JlY3Q+PHJlY3QgeD0iMTA2LjY2NjY2NjY2NjY2NjY3IiB5PSI4MCIgd2lkdGg9IjI2LjY2NjY2NjY2NjY2NjY2OCIgaGVpZ2h0PSIyNi42NjY2NjY2NjY2NjY2NjgiIGZpbGw9IiMyMjIiIGZpbGwtb3BhY2l0eT0iMC4wMjg2NjY2NjY2NjY2NjY2NjciIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiPjwvcmVjdD48cmVjdCB4PSIxMzMuMzMzMzMzMzMzMzMzMzQiIHk9IjgwIiB3aWR0aD0iMjYuNjY2NjY2NjY2NjY2NjY4IiBoZWlnaHQ9IjI2LjY2NjY2NjY2NjY2NjY2OCIgZmlsbD0iI2RkZCIgZmlsbC1vcGFjaXR5PSIwLjE0MTMzMzMzMzMzMzMzMzM0IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIj48L3JlY3Q+PHJlY3QgeD0iMCIgeT0iMTA2LjY2NjY2NjY2NjY2NjY3IiB3aWR0aD0iMjYuNjY2NjY2NjY2NjY2NjY4IiBoZWlnaHQ9IjI2LjY2NjY2NjY2NjY2NjY2OCIgZmlsbD0iIzIyMiIgZmlsbC1vcGFjaXR5PSIwLjA0NiIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiI+PC9yZWN0PjxyZWN0IHg9IjI2LjY2NjY2NjY2NjY2NjY2OCIgeT0iMTA2LjY2NjY2NjY2NjY2NjY3IiB3aWR0aD0iMjYuNjY2NjY2NjY2NjY2NjY4IiBoZWlnaHQ9IjI2LjY2NjY2NjY2NjY2NjY2OCIgZmlsbD0iI2RkZCIgZmlsbC1vcGFjaXR5PSIwLjEwNjY2NjY2NjY2NjY2NjY3IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIj48L3JlY3Q+PHJlY3QgeD0iNTMuMzMzMzMzMzMzMzMzMzM2IiB5PSIxMDYuNjY2NjY2NjY2NjY2NjciIHdpZHRoPSIyNi42NjY2NjY2NjY2NjY2NjgiIGhlaWdodD0iMjYuNjY2NjY2NjY2NjY2NjY4IiBmaWxsPSIjZGRkIiBmaWxsLW9wYWNpdHk9IjAuMDg5MzMzMzMzMzMzMzMzMzMiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiPjwvcmVjdD48cmVjdCB4PSI4MCIgeT0iMTA2LjY2NjY2NjY2NjY2NjY3IiB3aWR0aD0iMjYuNjY2NjY2NjY2NjY2NjY4IiBoZWlnaHQ9IjI2LjY2NjY2NjY2NjY2NjY2OCIgZmlsbD0iI2RkZCIgZmlsbC1vcGFjaXR5PSIwLjE0MTMzMzMzMzMzMzMzMzM0IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIj48L3JlY3Q+PHJlY3QgeD0iMTA2LjY2NjY2NjY2NjY2NjY3IiB5PSIxMDYuNjY2NjY2NjY2NjY2NjciIHdpZHRoPSIyNi42NjY2NjY2NjY2NjY2NjgiIGhlaWdodD0iMjYuNjY2NjY2NjY2NjY2NjY4IiBmaWxsPSIjMjIyIiBmaWxsLW9wYWNpdHk9IjAuMTE1MzMzMzMzMzMzMzMzMzQiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiPjwvcmVjdD48cmVjdCB4PSIxMzMuMzMzMzMzMzMzMzMzMzQiIHk9IjEwNi42NjY2NjY2NjY2NjY2NyIgd2lkdGg9IjI2LjY2NjY2NjY2NjY2NjY2OCIgaGVpZ2h0PSIyNi42NjY2NjY2NjY2NjY2NjgiIGZpbGw9IiNkZGQiIGZpbGwtb3BhY2l0eT0iMC4xNDEzMzMzMzMzMzMzMzMzNCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiI+PC9yZWN0PjxyZWN0IHg9IjAiIHk9IjEzMy4zMzMzMzMzMzMzMzMzNCIgd2lkdGg9IjI2LjY2NjY2NjY2NjY2NjY2OCIgaGVpZ2h0PSIyNi42NjY2NjY2NjY2NjY2NjgiIGZpbGw9IiMyMjIiIGZpbGwtb3BhY2l0eT0iMC4wNjMzMzMzMzMzMzMzMzMzNCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utb3BhY2l0eT0iMC4wMiI+PC9yZWN0PjxyZWN0IHg9IjI2LjY2NjY2NjY2NjY2NjY2OCIgeT0iMTMzLjMzMzMzMzMzMzMzMzM0IiB3aWR0aD0iMjYuNjY2NjY2NjY2NjY2NjY4IiBoZWlnaHQ9IjI2LjY2NjY2NjY2NjY2NjY2OCIgZmlsbD0iI2RkZCIgZmlsbC1vcGFjaXR5PSIwLjA4OTMzMzMzMzMzMzMzMzMzIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIj48L3JlY3Q+PHJlY3QgeD0iNTMuMzMzMzMzMzMzMzMzMzM2IiB5PSIxMzMuMzMzMzMzMzMzMzMzMzQiIHdpZHRoPSIyNi42NjY2NjY2NjY2NjY2NjgiIGhlaWdodD0iMjYuNjY2NjY2NjY2NjY2NjY4IiBmaWxsPSIjZGRkIiBmaWxsLW9wYWNpdHk9IjAuMDM3MzMzMzMzMzMzMzMzMzMiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiPjwvcmVjdD48cmVjdCB4PSI4MCIgeT0iMTMzLjMzMzMzMzMzMzMzMzM0IiB3aWR0aD0iMjYuNjY2NjY2NjY2NjY2NjY4IiBoZWlnaHQ9IjI2LjY2NjY2NjY2NjY2NjY2OCIgZmlsbD0iIzIyMiIgZmlsbC1vcGFjaXR5PSIwLjA2MzMzMzMzMzMzMzMzMzM0IiBzdHJva2U9IiMwMDAiIHN0cm9rZS1vcGFjaXR5PSIwLjAyIj48L3JlY3Q+PHJlY3QgeD0iMTA2LjY2NjY2NjY2NjY2NjY3IiB5PSIxMzMuMzMzMzMzMzMzMzMzMzQiIHdpZHRoPSIyNi42NjY2NjY2NjY2NjY2NjgiIGhlaWdodD0iMjYuNjY2NjY2NjY2NjY2NjY4IiBmaWxsPSIjZGRkIiBmaWxsLW9wYWNpdHk9IjAuMTQxMzMzMzMzMzMzMzMzMzQiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiPjwvcmVjdD48cmVjdCB4PSIxMzMuMzMzMzMzMzMzMzMzMzQiIHk9IjEzMy4zMzMzMzMzMzMzMzMzNCIgd2lkdGg9IjI2LjY2NjY2NjY2NjY2NjY2OCIgaGVpZ2h0PSIyNi42NjY2NjY2NjY2NjY2NjgiIGZpbGw9IiMyMjIiIGZpbGwtb3BhY2l0eT0iMC4wOTgiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLW9wYWNpdHk9IjAuMDIiPjwvcmVjdD48L3N2Zz4=&quot;);">
	<nav class="navbar navbar-static-top main-navbar" id="top">
		<div class="container">
			<div class="navbar-header">
				<button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
					<span class="sr-only">CogDL</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
			</div>
			<nav id="bs-navbar" class="collapse navbar-collapse">
				<ul class="nav navbar-nav navbar-right">
                    <li><a href="https://cogdl.ai">CogDL</a></li>
					<li><a href="https://github.com/THUDM/cogdl">CogDL Github</a></li>
					<li><a href="https://discuss.cogdl.ai/">CogDL论坛</a></li>
					<li><a href="https://cogdl.readthedocs.io/en/latest/">CogDL文档</a></li>
					
				</ul>
			</nav>
		</div>
	</nav>


	<div class="container jumbotron">
		<div class="row">
			<div class="col-xs-12">
				<h1>CogDL</h1>
				<p>知识图谱demo展示
					<br>
				</p>
			</div>
		</div>
	</div>

</header>

<main class="packages-list-container" id="all-packages">
	<div class="container">
	
		<div class="list-group packages" id="common-packages">
			
			<a class="package list-group-item">
                <p>数据集仅抽取了1500条数据</p>
				<div class="row">
					<div class="col-md-2">
						<h2 class="package-name">链接预测</h2>
						
					</div>
					<div class="col-md-10">
						    <form action="/kgdemo/pre_tail" method="post" class="in_1">
		<input type="text" id="entity_pre" name="entity_test" class="form-control search clearable" placeholder="输入想查询的实体~如'灵峰'" required="required" autocomplete="off" autofocus="on" tabindex="0" autocorrect="off" autocapitalize="off" spellcheck="false">
        <input type="text" id="relation_pre" name="relation_test" class="form-control search clearable" placeholder="输入该实体的对应的关系~如'描述'" required="required" autocomplete="off" autofocus="on" tabindex="0" autocorrect="off" autocapitalize="off" spellcheck="false">
        <p><input type="submit" id="buttonid1" class="form-control search clearable" value="确认"></p>
    </form>
					</div>

				</div>
                
			</a>

			<a  class="package list-group-item">
				<div class="row">
					<div class="col-md-2">
						<h2 class="package-name">相似度匹配</h2>
                        <!-- <p>输出匹配到的前十个实体</p> -->
					</div>

					<div class="col-md-10">
							    <form action="/kgdemo/pre_smi" method="post" class="in_2">
		<input type="text" id="entity_pre_smi" name="entity_smi" class="form-control search clearable" placeholder="输入想查询的实体~如'灵峰'" required="required" autocomplete="off" autofocus="on" tabindex="0" autocorrect="off" autocapitalize="off" spellcheck="false">
        <p><input type="submit" id="buttonid2" class="form-control search clearable" value="确认"></p>
    </form>
					</div>
				</div>
			</a>



			
			<div id="a" entity="{{entity}}" relation="{{relation}}" select="{{select}}" tail="{{tail}}" key="{{key}}" style="display:none"></div>
			<div id="b" entity="{{entity}}" select="{{select}}" pre_smi="{{pre_smi}}" key="{{key}}" style="display:none"></div>
<style>.link {  fill: none;  stroke: #666;  stroke-width: 1.5px;}#licensing {  fill: green;}.link.licensing {  stroke: green;}.link.resolved {  stroke-dasharray: 0,2 1;}circle {  fill: #ccc;  stroke: #333;  stroke-width: 1.5px;}text {  font: 12px Microsoft YaHei;  pointer-events: none;  text-shadow: 0 1px 0 #fff, 1px 0 0 #fff, 0 -1px 0 #fff, -1px 0 0 #fff;}.linetext {    font-size: 12px Microsoft YaHei;}</style>


		</div>
        <div class="list-group packages" id="search-results" style="display: none">
		</div>
	</div>
</main>
<script src="https://d3js.org/d3.v3.min.js"></script>
<script>
 
	var select;
    
var select =parseInt(document.getElementById('a').getAttribute('select'));
var select =parseInt(document.getElementById('b').getAttribute('select'));
   
function link_result(){

    if(select===1){
var key = document.getElementById('a').getAttribute('key');
if(key=='0'){
 alert("输入的实体-关系数据集中暂时还未收录，换一个试试吧~");
 return;
}
var entity = document.getElementById('a').getAttribute('entity');
var relation = document.getElementById('a').getAttribute('relation');
var tail = document.getElementById('a').getAttribute('tail');

var tail= JSON.parse(tail);
var links=[];
for(var i=0;i<tail.length;i++){
    links.push({source:entity,target:tail[i],type: 'resolved','rela':relation});
}
return links;
}

else if(select===2){
var key = document.getElementById('b').getAttribute('key');
if(key=='0'){
 alert("输入的实体数据集中暂时还没有，换一个试试吧~");
 return;
}
var entity = document.getElementById('b').getAttribute('entity');
var pre_smi = document.getElementById('b').getAttribute('pre_smi');
var pre_smi= JSON.parse(pre_smi);
var links=[];
for(var i=0;i<pre_smi.length;i++){
    links.push({source:entity,target:pre_smi[i],type: 'resolved','rela':'相似实体'});
}
return links;
}
else{
    links=[];
    return links;
}
};


var links=link_result();
var nodes = {};

links.forEach(function(link)
{
  link.source = nodes[link.source] || (nodes[link.source] = {name: link.source});
  link.target = nodes[link.target] || (nodes[link.target] = {name: link.target});
});

var width = 1620, height = 880;

var force = d3.layout.force()
    .nodes(d3.values(nodes))
    .links(links)
    .size([width, height])
    .linkDistance(180)
    .charge(-1500)
    .on("tick", tick)
    .start();

var svg = d3.select("body").append("svg")
    .attr("width", width)
    .attr("height", height);

var marker=
    svg.append("marker")
    .attr("id", "resolved")
    .attr("markerUnits","userSpaceOnUse")
    .attr("viewBox", "0 -5 10 10")
    .attr("refX",32)
    .attr("refY", -1)
    .attr("markerWidth", 12)
    .attr("markerHeight", 12)
    .attr("orient", "auto")
    .attr("stroke-width",2)
    .append("path")
    .attr("d", "M0,-5L10,0L0,5")
    .attr('fill','#000000');

var edges_line = svg.selectAll(".edgepath")
    .data(force.links())
    .enter()
    .append("path")
    .attr({
          'd': function(d) {return 'M '+d.source.x+' '+d.source.y+' L '+ d.target.x +' '+d.target.y},
          'class':'edgepath',
          'id':function(d,i) {return 'edgepath'+i;}})
    .style("stroke",function(d){
         var lineColor;
		 lineColor="#00F5FF";
         return lineColor;
     })
    .style("pointer-events", "none")
    .style("stroke-width",0.5)
    .attr("marker-end", "url(#resolved)" );

var edges_text = svg.append("g").selectAll(".edgelabel")
.data(force.links())
.enter()
.append("text")
.style("pointer-events", "none")
.attr({  'class':'edgelabel',
               'id':function(d,i){return 'edgepath'+i;},
               'dx':80,
               'dy':0
               });

edges_text.append('textPath')
.attr('xlink:href',function(d,i) {return '#edgepath'+i})
.style("pointer-events", "none")
.text(function(d){return d.rela;});

var circle = svg.append("g").selectAll("circle")
    .data(force.nodes())
    .enter().append("circle")
    .style("fill",function(node){
        var color;
        var link=links[node.index];
		color="#E8E8E8";
        return color;
    })
    .style('stroke',function(node){
        var color;
        var link=links[node.index];
		color="#000000";
        return color;
    })
    .attr("r", 28)
    .on("click",function(node)
	{
        edges_line.style("stroke-width",function(line){
            console.log(line);
            if(line.source.name==node.name || line.target.name==node.name){
                return 4;
            }else{
                return 0.5;
            }
        });
    })
    .call(force.drag);

var text = svg.append("g").selectAll("text")
    .data(force.nodes())
    .enter()
    .append("text")
    .attr("dy", ".35em")
    .attr("text-anchor", "middle")
    .style('fill',function(node){
        var color;
        var link=links[node.index];
		color="#000000";
        return color;
    }).attr('x',function(d){
        var re_en = /[a-zA-Z]+/g;
        if(d.name.match(re_en)){
             d3.select(this).append('tspan')
             .attr('x',0)
             .attr('y',2)
             .text(function(){return d.name;});
        }

        else if(d.name.length<=4){
             d3.select(this).append('tspan')
            .attr('x',0)
            .attr('y',2)
            .text(function(){return d.name;});
        }else{
            var top=d.name.substring(0,4);
            var bot=d.name.substring(4,d.name.length);

            d3.select(this).text(function(){return '';});

            d3.select(this).append('tspan')
                .attr('x',0)
                .attr('y',-7)
                .text(function(){return top;});

            d3.select(this).append('tspan')
                .attr('x',0)
                .attr('y',10)
                .text(function(){return bot;});
        }
    });

function tick() {
  circle.attr("transform", transform1);
  text.attr("transform", transform2);

  edges_line.attr('d', function(d) {
      var path='M '+d.source.x+' '+d.source.y+' L '+ d.target.x +' '+d.target.y;
      return path;
  });

  edges_text.attr('transform',function(d,i){
        if (d.target.x<d.source.x){
            bbox = this.getBBox();
            rx = bbox.x+bbox.width/2;
            ry = bbox.y+bbox.height/2;
            return 'rotate(180 '+rx+' '+ry+')';
        }
        else {
            return 'rotate(0)';
        }
   });
}

function linkArc(d) {
  return 'M '+d.source.x+' '+d.source.y+' L '+ d.target.x +' '+d.target.y
}

function transform1(d) {
  return "translate(" + d.x + "," + d.y + ")";
}
function transform2(d) {
      return "translate(" + (d.x) + "," + d.y + ")";
}


$("form.in_1").submit(function() {
  $("#buttonid1").val("预测中...(正在输出预测的前十个数据)");
  $("#buttonid1").attr("disabled", "disabled");
  });

$("form.in_2").submit(function() {
$("#buttonid2").val("预测中...(正在输出匹配到的前十个实体)");
$("#buttonid2").attr("disabled", "disabled");
});
</script>
</body>
</html>